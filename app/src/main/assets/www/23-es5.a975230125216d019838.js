!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function n(t,e,o){return(n="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(o){var r=Object.getOwnPropertyDescriptor(o,e);return r.get?r.get.call(n):r.value}})(t,e,o||t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=c(t);if(e){var r=c(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return i(this,n)}}function i(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"2xKy":function(i,a,s){"use strict";s.r(a),s.d(a,"ProductEvaluationListPageModule",(function(){return _}));var u=s("ofXK"),l=s("3Pt+"),b=s("TEn/"),p=s("tyNb"),f=s("AytR"),d=s("n3qt"),g=s("fXoL"),m=s("kwrG"),h=s("MDGB"),P=s("sYmb"),y=s("j7Is");function v(t,e){1&t&&(g.Qb(0,"div",6),g.Lb(1,"ion-spinner",7),g.Qb(2,"p",8),g.vc(3),g.bc(4,"translate"),g.Pb(),g.Pb()),2&t&&(g.zb(3),g.xc("",g.cc(4,1,"product-evaluation-list.Loading"),"... "))}function w(t,e){1&t&&(g.Qb(0,"p",7),g.vc(1),g.bc(2,"translate"),g.Pb()),2&t&&(g.zb(1),g.xc(" ",g.cc(2,1,"NoDataToDisplay"),""))}function C(t,e){1&t&&g.Lb(0,"img",18)}function I(t,e){if(1&t&&g.Lb(0,"img",19),2&t){var n=g.ac().$implicit,o=g.ac();g.gc("src",o.host+n.PhotoPath,g.pc)}}function L(t,e){if(1&t&&(g.Qb(0,"ion-card"),g.Qb(1,"ion-card-header"),g.Qb(2,"ion-grid"),g.Qb(3,"ion-row"),g.Qb(4,"ion-col",9),g.uc(5,C,1,0,"img",10),g.uc(6,I,1,1,"img",11),g.Pb(),g.Qb(7,"ion-col",12),g.Qb(8,"ion-row"),g.Qb(9,"ion-col"),g.vc(10),g.bc(11,"translate"),g.Pb(),g.Pb(),g.Qb(12,"ion-row"),g.Qb(13,"ion-col"),g.vc(14),g.bc(15,"uppercase"),g.Pb(),g.Pb(),g.Qb(16,"ion-row"),g.Qb(17,"ion-col"),g.Lb(18,"ionic5-star-rating",13,14),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.Qb(20,"ion-card-content"),g.Qb(21,"h6",15),g.vc(22),g.Pb(),g.Qb(23,"p",16),g.vc(24),g.Pb(),g.Qb(25,"p",17),g.vc(26),g.Pb(),g.Pb(),g.Pb()),2&t){var n=e.$implicit;g.zb(5),g.gc("ngIf",null==n.PhotoPath),g.zb(1),g.gc("ngIf",n.PhotoPath),g.zb(4),g.yc("",n.User.EntrepriseName," ",g.cc(11,9,"product-evaluation-list.alaisseunavis"),""),g.zb(4),g.wc(g.cc(15,11,n.Label)),g.zb(4),g.gc("rating",n.ProductComment.Level),g.zb(4),g.xc("",n.ProductComment.Title," "),g.zb(2),g.xc(" ",n.ProductComment.Body," "),g.zb(2),g.xc("",n.ProductComment.CreatedOn," ")}}var Q,O,z,S=[{path:"",component:(Q=function(i){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(b,i);var a,s,u,l=r(b);function b(e,n,o,r,i,c){var a;return t(this,b),(a=l.call(this)).navCtrl=e,a.toastCtrl=n,a.network=o,a.rest=r,a.translateServce=i,a.router=c,a.step=10,a.counter=0,a.productCommentList=[],a.loading=!0,a.host=f.a.SERVER_API_URL,a}return a=b,(s=[{key:"ngOnInit",value:function(){this.type=this.router.snapshot.queryParams.type,this.loadProductComment()}},{key:"loadProductComment",value:function(){var t=this,e=null;switch(this.type){case"GetCommentByProductId":e={ProductId:this.router.snapshot.queryParams.productId,Begin:this.counter,Step:this.step};break;case"GetCommentByUserId":e={UserId:localStorage.getItem("userId"),Begin:this.counter,Step:this.step};break;default:e={Begin:this.counter,Step:this.step}}this.rest.GetProductCommentListByCriteria(e).subscribe((function(e){e.Success?(console.log(e.Data.ProductCommentListData),t.productCommentList=e.Data.ProductCommentListData):n(c(b.prototype),"showToast",t).call(t,t.toastCtrl,t.translateServce.instant("Msg_Error"))}),(function(e){n(c(b.prototype),"showToast",t).call(t,t.toastCtrl,t.translateServce.instant("Msg_Error"))}),(function(){t.loading=!1}))}},{key:"doInfinite",value:function(t){var e=this;if("none"!=this.network.type){var o=null;switch(this.counter=this.counter+1,this.type){case"ProductEvaluationListPage":o={ProductId:this.router.snapshot.queryParams.productId,Begin:this.counter,Step:this.step};break;case"GetCommentByUserId":o={UserId:localStorage.getItem("userId"),Begin:this.counter,Step:this.step};default:o={Begin:this.counter,Step:this.step}}this.rest.GetProductCommentListByCriteria(o).subscribe((function(o){o.Success?o.Data.TotalCount<=e.step*e.counter?(t.target.complete(),t.target.disabled=!0):(e.productCommentList=e.productCommentList.concat(null!=o.Data.ProductCommentListData?o.Data.ProductCommentListData:[]),t.complete()):n(c(b.prototype),"showToast",e).call(e,e.toastCtrl,e.translateServce.instant("Msg_Error"))}),(function(t){n(c(b.prototype),"showToast",e).call(e,e.toastCtrl,e.translateServce.instant("Msg_Error"))}))}else n(c(b.prototype),"showToast",this).call(this,this.toastCtrl,this.translateServce.instant("Msg_Offline"))}}])&&e(a.prototype,s),u&&e(a,u),b}(d.a),Q.\u0275fac=function(t){return new(t||Q)(g.Kb(b.ab),g.Kb(b.gb),g.Kb(m.a),g.Kb(h.a),g.Kb(P.d),g.Kb(p.a))},Q.\u0275cmp=g.Eb({type:Q,selectors:[["app-product-evaluation-list"]],features:[g.wb],decls:13,vars:6,consts:[["slot","start"],["class","spinner","class","ion-text-center ion-margin-top",4,"ngIf"],["class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading"],[1,"ion-text-center","ion-margin-top"],[1,"ion-text-center"],["font-size-small","",1,"ion-text-center"],["size","4","col-4",""],["src","assets/imgs/not-found.png",4,"ngIf"],[3,"src",4,"ngIf"],["size","8","col-8","",2,"font-size","14px"],["activeIcon","ios-star","defaultIcon","ios-star-outline","activeColor","#534d7a","defaultColor","cadetblue","readonly","true","fontSize","13px",3,"rating"],["rating",""],[2,"font-weight","bold","font-size","initial","color","#000"],[2,"font-size","initial","color","#000","margin-bottom","10px"],[2,"text-align","right"],["src","assets/imgs/not-found.png"],[3,"src"]],template:function(t,e){1&t&&(g.Qb(0,"ion-header"),g.Qb(1,"ion-toolbar"),g.Qb(2,"ion-buttons",0),g.Lb(3,"ion-back-button"),g.Pb(),g.Qb(4,"ion-title"),g.vc(5),g.bc(6,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(7,"ion-content"),g.uc(8,v,5,3,"div",1),g.uc(9,w,3,3,"p",2),g.uc(10,L,27,13,"ion-card",3),g.Qb(11,"ion-infinite-scroll",4),g.Yb("ionInfinite",(function(t){return e.doInfinite(t)})),g.Lb(12,"ion-infinite-scroll-content",5),g.Pb(),g.Pb()),2&t&&(g.zb(5),g.wc(g.cc(6,4,"product-evaluation-list.Avis")),g.zb(3),g.gc("ngIf",e.loading),g.zb(1),g.gc("ngIf",!e.loading&&(null==e.productCommentList||e.productCommentList.length<=0)),g.zb(1),g.gc("ngForOf",e.productCommentList))},directives:[b.t,b.V,b.i,b.e,b.f,b.U,b.q,u.k,u.j,b.w,b.x,b.O,b.j,b.l,b.s,b.H,b.p,y.a,b.k],pipes:[P.c,u.s],styles:[".col[_ngcontent-%COMP%]{padding:2px}.card[_ngcontent-%COMP%]{width:100%;margin:0}"]}),Q)}],x=((z=function e(){t(this,e)}).\u0275mod=g.Ib({type:z}),z.\u0275inj=g.Hb({factory:function(t){return new(t||z)},imports:[[p.j.forChild(S)],p.j]}),z),_=((O=function e(){t(this,e)}).\u0275mod=g.Ib({type:O}),O.\u0275inj=g.Hb({factory:function(t){return new(t||O)},imports:[[u.b,l.g,b.W,x,P.b,y.b]]}),O)}}])}();