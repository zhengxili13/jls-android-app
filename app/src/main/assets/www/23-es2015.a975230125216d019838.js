(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"2xKy":function(t,o,n){"use strict";n.r(o),n.d(o,"ProductEvaluationListPageModule",(function(){return I}));var e=n("ofXK"),i=n("3Pt+"),s=n("TEn/"),r=n("tyNb"),c=n("AytR"),a=n("n3qt"),b=n("fXoL"),u=n("kwrG"),l=n("MDGB"),d=n("sYmb"),p=n("j7Is");function h(t,o){1&t&&(b.Qb(0,"div",6),b.Lb(1,"ion-spinner",7),b.Qb(2,"p",8),b.vc(3),b.bc(4,"translate"),b.Pb(),b.Pb()),2&t&&(b.zb(3),b.xc("",b.cc(4,1,"product-evaluation-list.Loading"),"... "))}function m(t,o){1&t&&(b.Qb(0,"p",7),b.vc(1),b.bc(2,"translate"),b.Pb()),2&t&&(b.zb(1),b.xc(" ",b.cc(2,1,"NoDataToDisplay"),""))}function g(t,o){1&t&&b.Lb(0,"img",18)}function P(t,o){if(1&t&&b.Lb(0,"img",19),2&t){const t=b.ac().$implicit,o=b.ac();b.gc("src",o.host+t.PhotoPath,b.pc)}}function f(t,o){if(1&t&&(b.Qb(0,"ion-card"),b.Qb(1,"ion-card-header"),b.Qb(2,"ion-grid"),b.Qb(3,"ion-row"),b.Qb(4,"ion-col",9),b.uc(5,g,1,0,"img",10),b.uc(6,P,1,1,"img",11),b.Pb(),b.Qb(7,"ion-col",12),b.Qb(8,"ion-row"),b.Qb(9,"ion-col"),b.vc(10),b.bc(11,"translate"),b.Pb(),b.Pb(),b.Qb(12,"ion-row"),b.Qb(13,"ion-col"),b.vc(14),b.bc(15,"uppercase"),b.Pb(),b.Pb(),b.Qb(16,"ion-row"),b.Qb(17,"ion-col"),b.Lb(18,"ionic5-star-rating",13,14),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(20,"ion-card-content"),b.Qb(21,"h6",15),b.vc(22),b.Pb(),b.Qb(23,"p",16),b.vc(24),b.Pb(),b.Qb(25,"p",17),b.vc(26),b.Pb(),b.Pb(),b.Pb()),2&t){const t=o.$implicit;b.zb(5),b.gc("ngIf",null==t.PhotoPath),b.zb(1),b.gc("ngIf",t.PhotoPath),b.zb(4),b.yc("",t.User.EntrepriseName," ",b.cc(11,9,"product-evaluation-list.alaisseunavis"),""),b.zb(4),b.wc(b.cc(15,11,t.Label)),b.zb(4),b.gc("rating",t.ProductComment.Level),b.zb(4),b.xc("",t.ProductComment.Title," "),b.zb(2),b.xc(" ",t.ProductComment.Body," "),b.zb(2),b.xc("",t.ProductComment.CreatedOn," ")}}const C=[{path:"",component:(()=>{class t extends a.a{constructor(t,o,n,e,i,s){super(),this.navCtrl=t,this.toastCtrl=o,this.network=n,this.rest=e,this.translateServce=i,this.router=s,this.step=10,this.counter=0,this.productCommentList=[],this.loading=!0,this.host=c.a.SERVER_API_URL}ngOnInit(){this.type=this.router.snapshot.queryParams.type,this.loadProductComment()}loadProductComment(){var t=null;switch(this.type){case"GetCommentByProductId":t={ProductId:this.router.snapshot.queryParams.productId,Begin:this.counter,Step:this.step};break;case"GetCommentByUserId":t={UserId:localStorage.getItem("userId"),Begin:this.counter,Step:this.step};break;default:t={Begin:this.counter,Step:this.step}}this.rest.GetProductCommentListByCriteria(t).subscribe(t=>{t.Success?(console.log(t.Data.ProductCommentListData),this.productCommentList=t.Data.ProductCommentListData):super.showToast(this.toastCtrl,this.translateServce.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translateServce.instant("Msg_Error"))},()=>{this.loading=!1})}doInfinite(t){if("none"!=this.network.type){var o=null;switch(this.counter=this.counter+1,this.type){case"ProductEvaluationListPage":o={ProductId:this.router.snapshot.queryParams.productId,Begin:this.counter,Step:this.step};break;case"GetCommentByUserId":o={UserId:localStorage.getItem("userId"),Begin:this.counter,Step:this.step};default:o={Begin:this.counter,Step:this.step}}this.rest.GetProductCommentListByCriteria(o).subscribe(o=>{o.Success?o.Data.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productCommentList=this.productCommentList.concat(null!=o.Data.ProductCommentListData?o.Data.ProductCommentListData:[]),t.complete()):super.showToast(this.toastCtrl,this.translateServce.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translateServce.instant("Msg_Error"))})}else super.showToast(this.toastCtrl,this.translateServce.instant("Msg_Offline"))}}return t.\u0275fac=function(o){return new(o||t)(b.Kb(s.ab),b.Kb(s.gb),b.Kb(u.a),b.Kb(l.a),b.Kb(d.d),b.Kb(r.a))},t.\u0275cmp=b.Eb({type:t,selectors:[["app-product-evaluation-list"]],features:[b.wb],decls:13,vars:6,consts:[["slot","start"],["class","spinner","class","ion-text-center ion-margin-top",4,"ngIf"],["class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading"],[1,"ion-text-center","ion-margin-top"],[1,"ion-text-center"],["font-size-small","",1,"ion-text-center"],["size","4","col-4",""],["src","assets/imgs/not-found.png",4,"ngIf"],[3,"src",4,"ngIf"],["size","8","col-8","",2,"font-size","14px"],["activeIcon","ios-star","defaultIcon","ios-star-outline","activeColor","#534d7a","defaultColor","cadetblue","readonly","true","fontSize","13px",3,"rating"],["rating",""],[2,"font-weight","bold","font-size","initial","color","#000"],[2,"font-size","initial","color","#000","margin-bottom","10px"],[2,"text-align","right"],["src","assets/imgs/not-found.png"],[3,"src"]],template:function(t,o){1&t&&(b.Qb(0,"ion-header"),b.Qb(1,"ion-toolbar"),b.Qb(2,"ion-buttons",0),b.Lb(3,"ion-back-button"),b.Pb(),b.Qb(4,"ion-title"),b.vc(5),b.bc(6,"translate"),b.Pb(),b.Pb(),b.Pb(),b.Qb(7,"ion-content"),b.uc(8,h,5,3,"div",1),b.uc(9,m,3,3,"p",2),b.uc(10,f,27,13,"ion-card",3),b.Qb(11,"ion-infinite-scroll",4),b.Yb("ionInfinite",(function(t){return o.doInfinite(t)})),b.Lb(12,"ion-infinite-scroll-content",5),b.Pb(),b.Pb()),2&t&&(b.zb(5),b.wc(b.cc(6,4,"product-evaluation-list.Avis")),b.zb(3),b.gc("ngIf",o.loading),b.zb(1),b.gc("ngIf",!o.loading&&(null==o.productCommentList||o.productCommentList.length<=0)),b.zb(1),b.gc("ngForOf",o.productCommentList))},directives:[s.t,s.V,s.i,s.e,s.f,s.U,s.q,e.k,e.j,s.w,s.x,s.O,s.j,s.l,s.s,s.H,s.p,p.a,s.k],pipes:[d.c,e.s],styles:[".col[_ngcontent-%COMP%]{padding:2px}.card[_ngcontent-%COMP%]{width:100%;margin:0}"]}),t})()}];let v=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(o){return new(o||t)},imports:[[r.j.forChild(C)],r.j]}),t})(),I=(()=>{class t{}return t.\u0275mod=b.Ib({type:t}),t.\u0275inj=b.Hb({factory:function(o){return new(o||t)},imports:[[e.b,i.g,s.W,v,d.b,p.b]]}),t})()}}]);