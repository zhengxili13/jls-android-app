!function(){function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function n(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function e(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}function r(t,n,e){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=s(t)););return t}(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(e):o.value}})(t,n,e||t)}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&i(t,n)}function i(t,n){return(i=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=s(t);if(n){var o=s(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return a(this,e)}}function a(t,n){return!n||"object"!=typeof n&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{J8OZ:function(n,i,a){"use strict";a.r(i),a.d(i,"MyAccountPageModule",(function(){return _}));var l,u=a("ofXK"),b=a("3Pt+"),d=a("TEn/"),f=a("tyNb"),g=a("mrSG"),m=a("n3qt"),h=a("bVho"),v=a("fXoL"),p=a("MDGB"),P=a("e8h1"),y=a("kwrG"),w=a("sYmb"),k=a("x7k0"),Q=((l=function(n){o(a,n);var i=c(a);function a(n,e,r,o,c,s,l,u,b){var d;return t(this,a),(d=i.call(this)).navCtrl=n,d.loadingCtrl=e,d.rest=r,d.toastCtrl=o,d.storage=c,d.modalCtrl=s,d.network=l,d.translateService=u,d.utils=b,d}return e(a,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){var t=this,n=Object.create(null,{showToast:{get:function(){return r(s(a.prototype),"showToast",t)}}});return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,r,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("none"==this.network.type){t.next=8;break}return t.next=3,this.showLoading(this.loadingCtrl,this.translateService.instant("Loading"));case 3:e=t.sent,r={Email:this.email,Password:btoa(this.password)},this.rest.getNewRefreshToken(r).subscribe((function(t){null!=t&&null!=t.authToken?(localStorage.setItem("login  Status","1"),localStorage.setItem("jwt",t.authToken.token),localStorage.setItem("username",t.authToken.username),localStorage.setItem("userId",t.authToken.userId),localStorage.setItem("expiration",t.authToken.expiration),localStorage.setItem("userRole",t.authToken.roles),localStorage.setItem("refreshToken",t.authToken.refresh_token),o.storage.set("userId",t.authToken.userId),o.storage.set("jwt",t.authToken.token),o.storage.set("refreshToken",t.authToken.refresh_token),o.utils.isLoginedSubject.next(!0),o.modalCtrl.dismiss()):n.showToast.call(o,o.toastCtrl,o.translateService.instant("Msg_Error")),e.dismiss()}),(function(t){null!=t?null!=t.LoginError&&n.showToast.call(o,o.toastCtrl,o.translateService.instant(t.LoginError)):n.showToast.call(o,o.toastCtrl,o.translateService.instant("Msg_Error")),e.dismiss()})),t.next=9;break;case 8:this.translateService.instant("Msg_Offline");case 9:case"end":return t.stop()}}),t,this)})))}},{key:"registre",value:function(){this.modalCtrl.dismiss(),this.navCtrl.navigateRoot("RegistrePage")}},{key:"findOutPassword",value:function(){this.modalCtrl.dismiss(),this.navCtrl.navigateRoot("ForgetPasswordPage")}},{key:"dismiss",value:function(){this.modalCtrl.dismiss()}}]),a}(m.a)).\u0275fac=function(t){return new(t||l)(v.Kb(d.ab),v.Kb(d.Y),v.Kb(p.a),v.Kb(d.gb),v.Kb(P.b),v.Kb(d.Z),v.Kb(y.a),v.Kb(w.d),v.Kb(k.a))},l.\u0275cmp=v.Eb({type:l,selectors:[["app-login"]],features:[v.wb],decls:34,vars:24,consts:[[1,"ion-text-center"],[3,"click"],["ion-text","","color","primary","showWhen","ios"],["name","md-close","showWhen","android"],[2,"margin-bottom","10px"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],[2,"margin-left","10px","text-decoration","underline",3,"click"],["padding",""],["color","primary","expand","block",3,"disabled","click"],["padding","",1,"ion-text-center"],["color","primary","fill","outline",3,"click"]],template:function(t,n){1&t&&(v.Qb(0,"ion-header"),v.Qb(1,"ion-toolbar"),v.Qb(2,"ion-title",0),v.vc(3),v.bc(4,"translate"),v.Pb(),v.Qb(5,"ion-buttons"),v.Qb(6,"ion-button",1),v.Yb("click",(function(){return n.dismiss()})),v.Qb(7,"span",2),v.vc(8),v.bc(9,"translate"),v.Pb(),v.Lb(10,"ion-icon",3),v.Pb(),v.Pb(),v.Pb(),v.Pb(),v.Qb(11,"ion-content"),v.Qb(12,"ion-list",4),v.Qb(13,"ion-item"),v.Qb(14,"ion-label",5),v.vc(15),v.bc(16,"translate"),v.Pb(),v.Qb(17,"ion-input",6),v.Yb("ngModelChange",(function(t){return n.email=t})),v.Pb(),v.Pb(),v.Qb(18,"ion-item"),v.Qb(19,"ion-label",5),v.vc(20),v.bc(21,"translate"),v.Pb(),v.Qb(22,"ion-input",7),v.Yb("ngModelChange",(function(t){return n.password=t})),v.Pb(),v.Pb(),v.Pb(),v.Qb(23,"a",8),v.Yb("click",(function(){return n.findOutPassword()})),v.vc(24),v.bc(25,"translate"),v.Pb(),v.Qb(26,"div",9),v.Qb(27,"ion-button",10),v.Yb("click",(function(){return n.login()})),v.vc(28),v.bc(29,"translate"),v.Pb(),v.Pb(),v.Qb(30,"div",11),v.Qb(31,"ion-button",12),v.Yb("click",(function(){return n.registre()})),v.vc(32),v.bc(33,"translate"),v.Pb(),v.Pb(),v.Pb()),2&t&&(v.zb(3),v.wc(v.cc(4,10,"signin.SignIn")),v.zb(5),v.wc(v.cc(9,12,"signin.Return")),v.zb(7),v.wc(v.cc(16,14,"signin.Email")),v.zb(2),v.gc("ngModel",n.email),v.zb(3),v.wc(v.cc(21,16,"signin.Password")),v.zb(2),v.gc("ngModel",n.password),v.zb(2),v.wc(v.cc(25,18,"signin.ForgetPassword")),v.zb(3),v.gc("disabled",null==n.email||""==n.email||null==n.password||""==n.password),v.zb(1),v.wc(v.cc(29,20,"signin.SignIn")),v.zb(4),v.wc(v.cc(33,22,"signin.Register")))},directives:[d.t,d.V,d.U,d.i,d.h,d.u,d.q,d.B,d.z,d.A,d.y,d.fb,b.k,b.n],pipes:[w.c],styles:[""]}),l);function C(t,n){if(1&t){var e=v.Rb();v.Qb(0,"div"),v.Qb(1,"ion-card"),v.Qb(2,"ion-card-header",3),v.Qb(3,"p"),v.vc(4),v.bc(5,"translate"),v.Pb(),v.Pb(),v.Qb(6,"ion-card-content",3),v.Qb(7,"ion-button",4),v.Yb("click",(function(){return v.nc(e),v.ac().showModal()})),v.vc(8),v.bc(9,"translate"),v.Pb(),v.Pb(),v.Pb(),v.Pb()}2&t&&(v.zb(4),v.xc(" ",v.cc(5,2,"myAccount.SignIn")," "),v.zb(4),v.xc("",v.cc(9,4,"myAccount.SignInOrRegister")," "))}function x(t,n){if(1&t){var e=v.Rb();v.Qb(0,"div"),v.Qb(1,"ion-list",5),v.Qb(2,"ion-item",6),v.Yb("click",(function(){return v.nc(e),v.ac().UserInfoPage()})),v.Qb(3,"ion-avatar",7),v.Lb(4,"img",8),v.Pb(),v.Qb(5,"ion-label",9),v.vc(6),v.Pb(),v.Pb(),v.Pb(),v.Qb(7,"ion-list",5),v.Qb(8,"ion-list-header"),v.Qb(9,"ion-label"),v.Qb(10,"span"),v.vc(11),v.bc(12,"translate"),v.Pb(),v.Qb(13,"a",10),v.Yb("click",(function(){return v.nc(e),v.ac().readCommandList("All")})),v.vc(14),v.bc(15,"translate"),v.Pb(),v.Pb(),v.Pb(),v.Qb(16,"ion-item",11),v.Yb("click",(function(){return v.nc(e),v.ac().readCommandList("OrderStatus_Progressing")})),v.vc(17),v.bc(18,"translate"),v.Pb(),v.Qb(19,"ion-item",11),v.Yb("click",(function(){return v.nc(e),v.ac().readCommandList("OrderStatus_Virement")})),v.vc(20),v.bc(21,"translate"),v.Pb(),v.Qb(22,"ion-item",11),v.Yb("click",(function(){return v.nc(e),v.ac().readCommandList("OrderStatus_Preparing")})),v.vc(23),v.bc(24,"translate"),v.Pb(),v.Qb(25,"ion-item",11),v.Yb("click",(function(){return v.nc(e),v.ac().readCommandList("OrderStatus_Valid")})),v.vc(26),v.bc(27,"translate"),v.Pb(),v.Qb(28,"ion-item",11),v.Yb("click",(function(){return v.nc(e),v.ac().readCommandList("OrderStatus_Refus")})),v.vc(29),v.bc(30,"translate"),v.Pb(),v.Pb(),v.Qb(31,"ion-list",5),v.Qb(32,"ion-item",12),v.Yb("click",(function(){return v.nc(e),v.ac().translation()})),v.Lb(33,"ion-icon",13),v.vc(34),v.bc(35,"translate"),v.Pb(),v.Qb(36,"ion-item",11),v.Yb("click",(function(){return v.nc(e),v.ac().myAvis()})),v.Lb(37,"ion-icon",14),v.vc(38),v.bc(39,"translate"),v.Pb(),v.Qb(40,"ion-item",11),v.Yb("click",(function(){return v.nc(e),v.ac().contactUs()})),v.Lb(41,"ion-icon",15),v.vc(42),v.bc(43,"translate"),v.Pb(),v.Qb(44,"ion-item",11),v.Yb("click",(function(){return v.nc(e),v.ac().aboutUs()})),v.Lb(45,"ion-icon",16),v.vc(46),v.bc(47,"translate"),v.Pb(),v.Pb(),v.Qb(48,"ion-list",5),v.Qb(49,"ion-button",17),v.Yb("click",(function(){return v.nc(e),v.ac().logout()})),v.vc(50),v.bc(51,"translate"),v.Pb(),v.Pb(),v.Pb()}if(2&t){var r=v.ac();v.zb(6),v.xc(" ",r.username," "),v.zb(5),v.xc(" ",v.cc(12,13,"myAccount.MyOrder")," "),v.zb(3),v.xc("",v.cc(15,15,"myAccount.ViewAll")," "),v.zb(3),v.wc(v.cc(18,17,"myAccount.PrepareOrder")),v.zb(3),v.wc(v.cc(21,19,"myAccount.Virement")),v.zb(3),v.wc(v.cc(24,21,"myAccount.Preparing")),v.zb(3),v.wc(v.cc(27,23,"myAccount.OrderArrived")),v.zb(3),v.wc(v.cc(30,25,"myAccount.CanceledOrder")),v.zb(5),v.xc(" ",v.cc(35,27,"translation.Title")," "),v.zb(4),v.xc(" ",v.cc(39,29,"myAccount.Feedbacks")," "),v.zb(4),v.xc(" ",v.cc(43,31,"myAccount.ContactUs")," "),v.zb(4),v.xc(" ",v.cc(47,33,"myAccount.AboutUs")," "),v.zb(4),v.xc(" ",v.cc(51,35,"myAccount.SignOut")," ")}}var O,S,z,I,R,j=[{path:"",component:(O=function(n){o(i,n);var r=c(i);function i(n,e,o,c,a,s,l){var u;return t(this,i),(u=r.call(this)).navCtrl=n,u.modalCtrl=e,u.storage=o,u.utils=c,u.rest=a,u.toastCtrl=s,u.translateService=l,u.notLogin=!0,u.logined=!1,u.username="",u}return e(i,[{key:"ngOnInit",value:function(){}},{key:"showModal",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:Q});case 2:(n=t.sent).present(),n.onWillDismiss().then((function(){e.loadUserPage()}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"ionViewDidEnter",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadUserPage();case 2:case"end":return t.stop()}}),t,this)})))}},{key:"contactUs",value:function(){this.navCtrl.navigateForward("ContactUsPage",{queryParams:{Page:"MyAccountPage"}})}},{key:"aboutUs",value:function(){this.navCtrl.navigateForward("AboutUsPage")}},{key:"loadUserPage",value:function(){var t=localStorage.getItem("jwt");null==localStorage.getItem("userId")||null==t?(this.notLogin=!0,this.logined=!1):(this.notLogin=!1,this.logined=!0,this.username=localStorage.getItem("username")),this.logined&&this.loadNotReadMessage()}},{key:"logout",value:function(){localStorage.clear(),this.storage.remove("userId"),this.storage.remove("jwt"),this.storage.remove("refreshToken"),this.rest.logout(!0),this.loadUserPage()}},{key:"loadNotReadMessage",value:function(){}},{key:"readCommandList",value:function(t){this.navCtrl.navigateForward("ReadOrderListPage",{queryParams:{orderType:t}})}},{key:"translation",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalCtrl.create({component:h.a});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"UserInfoPage",value:function(){this.navCtrl.navigateForward("UserInfoPage")}},{key:"myAvis",value:function(){this.navCtrl.navigateForward("ProductEvaluationListPage")}}]),i}(m.a),O.\u0275fac=function(t){return new(t||O)(v.Kb(d.ab),v.Kb(d.Z),v.Kb(P.b),v.Kb(k.a),v.Kb(p.a),v.Kb(d.gb),v.Kb(w.d))},O.\u0275cmp=v.Eb({type:O,selectors:[["app-my-account"]],features:[v.wb],decls:10,vars:5,consts:[["slot","start"],["text-center",""],[4,"ngIf"],[1,"ion-text-center"],["size","small","fill","outline",3,"click"],[1,"ion-margin-top"],["ion-item","",3,"click"],["slot","start","item-start",""],["src","assets/imgs/logo-512.png"],[2,"font-size","1.5em"],[1,"viewAll",3,"click"],["button","","detail","true","ion-item","",3,"click"],["button","","detail","true",3,"click"],["name","globe","item-start","","slot","start",1,"iconStyle"],["name","at","slot","start","item-start","",1,"iconStyle"],["name","mail","item-start","","slot","start",1,"iconStyle"],["name","information-circle","item-start","","slot","start",1,"iconStyle"],["Expand","full","full","","color","danger",1,"ion-text-center","ion-no-margin",3,"click"]],template:function(t,n){1&t&&(v.Qb(0,"ion-header"),v.Qb(1,"ion-toolbar"),v.Qb(2,"ion-buttons",0),v.Lb(3,"ion-back-button"),v.Pb(),v.Qb(4,"ion-title",1),v.vc(5),v.bc(6,"translate"),v.Pb(),v.Pb(),v.Pb(),v.Qb(7,"ion-content"),v.uc(8,C,10,6,"div",2),v.uc(9,x,52,37,"div",2),v.Pb()),2&t&&(v.zb(5),v.wc(v.cc(6,3,"myAccount.Title")),v.zb(3),v.gc("ngIf",n.notLogin),v.zb(1),v.gc("ngIf",n.logined))},directives:[d.t,d.V,d.i,d.e,d.f,d.U,d.q,u.k,d.j,d.l,d.k,d.h,d.B,d.z,d.d,d.A,d.C,d.u],pipes:[w.c],styles:[".card[_ngcontent-%COMP%]{margin:0;width:100%}.AccountDetail[_ngcontent-%COMP%]{padding:10px}.viewAll[_ngcontent-%COMP%]{float:right;-webkit-text-decoration-line:none;text-decoration-line:none;font-size:.7em;margin-right:10px}.iconStyle[_ngcontent-%COMP%]{color:#717275}ion-card[_ngcontent-%COMP%]{margin:0;width:100%}"]}),O)}],A=((S=function n(){t(this,n)}).\u0275mod=v.Ib({type:S}),S.\u0275inj=v.Hb({factory:function(t){return new(t||S)},imports:[[f.j.forChild(j)],f.j]}),S),L=[{path:"",component:Q}],M=((R=function n(){t(this,n)}).\u0275mod=v.Ib({type:R}),R.\u0275inj=v.Hb({factory:function(t){return new(t||R)},imports:[[f.j.forChild(L)],f.j]}),R),T=((I=function n(){t(this,n)}).\u0275mod=v.Ib({type:I}),I.\u0275inj=v.Hb({factory:function(t){return new(t||I)},imports:[[u.b,b.g,d.W,M,w.b]]}),I),_=((z=function n(){t(this,n)}).\u0275mod=v.Ib({type:z}),z.\u0275inj=v.Hb({factory:function(t){return new(t||z)},imports:[[u.b,b.g,d.W,A,w.b,T]]}),z)}}])}();