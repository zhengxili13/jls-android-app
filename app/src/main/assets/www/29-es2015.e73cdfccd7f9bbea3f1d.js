(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"2IxY":function(e,t,s){"use strict";s.r(t),s.d(t,"SelectShippingAdressPageModule",(function(){return A}));var i=s("ofXK"),r=s("3Pt+"),n=s("TEn/"),a=s("tyNb"),c=s("mrSG"),o=s("n3qt"),d=s("fXoL"),l=s("kwrG"),b=s("MDGB"),h=s("x7k0"),p=s("e8h1"),g=s("sYmb"),u=s("O93g"),v=s("QibW");function f(e,t){if(1&e){const e=d.Rb();d.Qb(0,"div",6),d.Qb(1,"ion-grid",7),d.Qb(2,"ion-row",8),d.Qb(3,"ion-col",9),d.Lb(4,"mat-radio-button",10),d.Pb(),d.Qb(5,"ion-col",11),d.Qb(6,"a",12),d.Yb("click",(function(){d.nc(e);const s=t.$implicit;return d.ac().modifyAdress(s)})),d.vc(7),d.bc(8,"translate"),d.Pb(),d.Qb(9,"p",13),d.vc(10),d.Pb(),d.Qb(11,"p",13),d.vc(12),d.Pb(),d.Qb(13,"p",13),d.vc(14),d.Pb(),d.Qb(15,"p",13),d.vc(16),d.Pb(),d.Qb(17,"p",13),d.vc(18),d.Pb(),d.Qb(19,"p",13),d.vc(20),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()}if(2&e){const e=t.$implicit;d.zb(4),d.gc("checked",e.IsDefaultAdress)("value",e.Id),d.zb(3),d.wc(d.cc(8,10,"select-shipping-adress.Modifier")),d.zb(3),d.xc("",e.ContactFirstName," "),d.zb(2),d.wc(e.ContactLastName),d.zb(2),d.wc(e.FirstLineAddress),d.zb(2),d.wc(e.SecondLineAddress),d.zb(2),d.yc("",e.ZipCode," ",e.City," "),d.zb(2),d.wc(e.ContactTelephone)}}function m(e,t){if(1&e){const e=d.Rb();d.Qb(0,"ion-footer"),d.Qb(1,"ion-toolbar",14),d.Qb(2,"div",15),d.Qb(3,"p",13),d.vc(4),d.Pb(),d.Qb(5,"p",13),d.vc(6),d.Pb(),d.Qb(7,"p",13),d.vc(8),d.Pb(),d.Qb(9,"div",16),d.Qb(10,"ion-button",17),d.Yb("click",(function(){return d.nc(e),d.ac().saveShippingAdress()})),d.vc(11),d.bc(12,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Pb(),d.Pb()}if(2&e){const e=d.ac();d.zb(4),d.xc("",e.getSelectedAdress().ContactFirstName," "),d.zb(2),d.wc(e.getSelectedAdress().FirstLineAddress),d.zb(2),d.yc("",e.getSelectedAdress().ZipCode," ",e.getSelectedAdress().City,""),d.zb(3),d.xc(" ",d.cc(12,5,"select-shipping-adress.Confirmer"),"")}}const P=[{path:"",component:(()=>{class e extends o.a{constructor(e,t,s,i,r,n,a,c,o,d){super(),this.navCtrl=e,this.network=t,this.toastCtrl=s,this.rest=i,this.utils=r,this.loadingCtrl=n,this.storage=a,this.translateService=c,this.router=o,this.addressService=d,this.adressList=[],this.addressService.selectedShipmentAdressBehaviour.subscribe(e=>{if(null!=e){const t=this.adressList.findIndex(t=>t.Id==e.Id);t>=0?this.adressList[t]=e:this.adressList.push(e)}}),this.addressService.defaultShipmentAdressBehaviour.subscribe(e=>{null!=e&&(this.selectedAdressId=e.Id)})}ngOnInit(){const e=Object.create(null,{showLoading:{get:()=>super.showLoading},showToast:{get:()=>super.showToast}});return Object(c.a)(this,void 0,void 0,(function*(){if(this.previousPage=this.router.snapshot.queryParams.CurrentPage,"none"!=this.network.type){var t=yield e.showLoading.call(this,this.loadingCtrl,this.translateService.instant("Loading")),s=yield this.utils.getKey("userId");this.rest.GetUserShippingAdress(s).subscribe(s=>{s.Success&&null!=s.Data?this.adressList=s.Data:e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),t.dismiss()},s=>{e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),t.dismiss()})}else e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"))}))}addNewAddress(){this.navCtrl.navigateForward("AddAdressPage",{queryParams:{type:"shippingAdress",currentPage:"SelectShippingAdressPage",action:"create"}})}modifyAdress(e){this.addressService.selectedShipmentAdressBehaviour.next(e),this.navCtrl.navigateForward("AddAdressPage",{queryParams:{type:"shippingAdress",action:"update",currentPage:"SelectShippingAdressPage"}})}saveShippingAdress(){let e=this.getSelectedAdress();this.addressService.defaultShipmentAdressBehaviour.next(e),this.navCtrl.back()}ionViewWillLeave(){let e=this.getSelectedAdress();this.addressService.defaultShipmentAdressBehaviour.next(e)}getSelectedAdress(){if(this.adressList.length>0){let e=this.adressList.find(e=>e.Id==this.selectedAdressId);return null==e&&(e=this.adressList[0]),e}return null}}return e.\u0275fac=function(t){return new(t||e)(d.Kb(n.ab),d.Kb(l.a),d.Kb(n.gb),d.Kb(b.a),d.Kb(h.a),d.Kb(n.Y),d.Kb(p.b),d.Kb(g.d),d.Kb(a.a),d.Kb(u.a))},e.\u0275cmp=d.Eb({type:e,selectors:[["app-select-shipping-adress"]],features:[d.wb],decls:15,vars:9,consts:[["slot","start"],["float-right","",1,"ion-float-right",2,"margin","10px 10px",3,"click"],[2,"margin-top","30px","clear","both"],[1,"example-radio-group",3,"ngModel","ngModelChange"],["class","productCard",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"productCard"],[1,"gridStyle",2,"background-color","white"],[1,"colStyle"],["size","2","col-2","",1,"align-text-middle","colStyle"],["color","primary",1,"example-radio-button",2,"color","#534d7a","margin-top","30px",3,"checked","value"],["size","10","col-10","",1,"colStyle"],["float-right","",1,"ion-float-right",3,"click"],[1,"addressDetail"],[2,"padding-bottom","0px"],[2,"padding","5px"],[1,"ion-text-center"],["size","small","color","primary",2,"width","100%",3,"click"]],template:function(e,t){1&e&&(d.Qb(0,"ion-header"),d.Qb(1,"ion-toolbar"),d.Qb(2,"ion-buttons",0),d.Lb(3,"ion-back-button"),d.Pb(),d.Qb(4,"ion-title"),d.vc(5),d.bc(6,"translate"),d.Pb(),d.Pb(),d.Pb(),d.Qb(7,"ion-content"),d.Qb(8,"a",1),d.Yb("click",(function(){return t.addNewAddress()})),d.vc(9),d.bc(10,"translate"),d.Pb(),d.Qb(11,"ion-list",2),d.Qb(12,"mat-radio-group",3),d.Yb("ngModelChange",(function(e){return t.selectedAdressId=e})),d.uc(13,f,21,12,"div",4),d.Pb(),d.Pb(),d.Pb(),d.uc(14,m,13,7,"ion-footer",5)),2&e&&(d.zb(5),d.wc(d.cc(6,5,"select-shipping-adress.Livraison")),d.zb(4),d.wc(d.cc(10,7,"select-shipping-adress.Ajouter")),d.zb(3),d.gc("ngModel",t.selectedAdressId),d.zb(1),d.gc("ngForOf",t.adressList),d.zb(1),d.gc("ngIf",null!=t.getSelectedAdress()))},directives:[n.t,n.V,n.i,n.e,n.f,n.U,n.q,n.B,v.b,r.k,r.n,i.j,i.k,n.s,n.H,n.p,v.a,n.r,n.h],pipes:[g.c],styles:[".addressDetail[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}.gridStyle[_ngcontent-%COMP%]{border-bottom:1px solid grey}"]}),e})()}];let S=(()=>{class e{}return e.\u0275mod=d.Ib({type:e}),e.\u0275inj=d.Hb({factory:function(t){return new(t||e)},imports:[[a.j.forChild(P)],a.j]}),e})(),A=(()=>{class e{}return e.\u0275mod=d.Ib({type:e}),e.\u0275inj=d.Hb({factory:function(t){return new(t||e)},imports:[[i.b,r.g,n.W,S,v.c,g.b]]}),e})()}}]);