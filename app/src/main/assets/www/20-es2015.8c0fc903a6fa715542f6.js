(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"K3/d":function(t,e,i){"use strict";i.r(e),i.d(e,"NewproductPageModule",(function(){return it}));var s=i("ofXK"),n=i("3Pt+"),o=i("TEn/"),r=i("tyNb"),a=i("mrSG"),c=i("n3qt"),l=i("AytR"),u=i("fXoL"),d=i("sYmb"),h=i("MDGB"),b=i("kwrG");function g(t,e){if(1&t&&(u.Qb(0,"ion-select-option",21),u.vc(1),u.Pb()),2&t){const t=e.$implicit;u.gc("value",t.Id),u.zb(1),u.wc(t.Label)}}function p(t,e){if(1&t&&(u.Qb(0,"ion-select-option",21),u.vc(1),u.Pb()),2&t){const t=e.$implicit;u.gc("value",t.Id),u.zb(1),u.xc("",t.Label," ")}}function P(t,e){if(1&t&&(u.Qb(0,"ion-select-option",21),u.vc(1),u.Pb()),2&t){const t=e.$implicit,i=u.ac();u.gc("value",t),u.zb(1),u.xc("",i.translateOrderByItem(t)," ")}}let f=(()=>{class t extends c.a{constructor(t,e,i,s,n,o){super(),this.navCtrl=t,this.translateService=e,this.rest=i,this.network=s,this.toastCtrl=n,this.modalCtrl=o,this.criteria={SearchText:null,MainCategory:null,SecondCategory:null,PriceInterval:{lower:0,upper:200},MinQuantity:200,OrderBy:null},this.ReferenceList=[],this.MainCategoryList=[],this.OrderByList=["Price_Increase","Price_Decrease","PublishDate_Recent","Porpularity_More"]}ngOnInit(){console.log("ionViewDidLoad AdvancedSearchPage"),this.criteria=this.criteriaPassed||this.criteria,this.loadMainCategoryAndSecondCategory()}translateOrderByItem(t){return this.translateService.instant("advanced-search."+t)}loadMainCategoryAndSecondCategory(){"none"!=this.network.type?this.rest.GetReferenceItemsByCategoryLabels({ShortLabels:["MainCategory","SecondCategory"],Lang:this.translateService.defaultLang}).subscribe(t=>{null!=t&&t.length>0&&(this.ReferenceList=t,this.MainCategoryList=t.filter(t=>"MainCategory"==t.ReferenceCategoryLabel))},t=>{super.showToast(this.toastCtrl,this.translateService.instant("Msg_Error"))}):super.showToast(this.toastCtrl,this.translateService.instant("Msg_Offline"))}dismiss(){this.modalCtrl.dismiss()}getSecondCategoryList(){return null!=this.criteria.MainCategory?this.ReferenceList.filter(t=>t.ParentId==this.criteria.MainCategory):[]}search(){this.modalCtrl.dismiss(this.criteria)}}return t.\u0275fac=function(e){return new(e||t)(u.Kb(o.ab),u.Kb(d.d),u.Kb(h.a),u.Kb(b.a),u.Kb(o.gb),u.Kb(o.Z))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-advanced-search"]],inputs:{criteriaPassed:"criteriaPassed"},features:[u.wb],decls:66,vars:54,consts:[["slot","start"],[3,"click"],["ion-text","","color","primary","showWhen","ios"],["name","md-close","showWhen","android"],[2,"background-color","#fff!important"],[1,"headerZoom",2,"margin-left","10px","margin-right","2px"],["stacked",""],[1,"inputZoom",3,"ngModel","placeholder","ngModelChange"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["multiple","true",3,"ngModel","ngModelChange"],["start","","slot","start"],["min","0","max","200","step","10",3,"ngModel","ngModelChange"],["range-left","","small","","name","cube"],["range-right","","name","cube"],["start","","position","stacked","slot","start"],["min","0","max","200","step","10","dualKnobs","true","pin","true",3,"ngModel","ngModelChange"],["range-left","","name","remove"],["range-right","","name","add"],["text-center",""],["color","primary",2,"width","100%","height","35px",3,"click"],[3,"value"]],template:function(t,e){1&t&&(u.Qb(0,"ion-header"),u.Qb(1,"ion-toolbar"),u.Qb(2,"ion-title"),u.vc(3),u.bc(4,"translate"),u.Pb(),u.Qb(5,"ion-buttons",0),u.Qb(6,"ion-button",1),u.Yb("click",(function(){return e.dismiss()})),u.Qb(7,"span",2),u.vc(8),u.bc(9,"translate"),u.Pb(),u.Lb(10,"ion-icon",3),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(11,"ion-content",4),u.Qb(12,"div",5),u.Qb(13,"h3"),u.vc(14),u.bc(15,"translate"),u.Pb(),u.Pb(),u.Qb(16,"ion-list"),u.Qb(17,"ion-item"),u.Qb(18,"ion-label",6),u.vc(19),u.bc(20,"translate"),u.Pb(),u.Qb(21,"ion-input",7),u.Yb("ngModelChange",(function(t){return e.criteria.SearchText=t})),u.bc(22,"translate"),u.Pb(),u.Pb(),u.Qb(23,"ion-item"),u.Qb(24,"ion-label"),u.vc(25),u.bc(26,"translate"),u.Pb(),u.Qb(27,"ion-select",8),u.Yb("ngModelChange",(function(t){return e.criteria.MainCategory=t})),u.uc(28,g,2,2,"ion-select-option",9),u.Pb(),u.Pb(),u.Qb(29,"ion-item"),u.Qb(30,"ion-label"),u.vc(31),u.bc(32,"translate"),u.Pb(),u.Qb(33,"ion-select",10),u.Yb("ngModelChange",(function(t){return e.criteria.SecondCategory=t})),u.uc(34,p,2,2,"ion-select-option",9),u.Pb(),u.Pb(),u.Qb(35,"ion-item"),u.Qb(36,"ion-label",11),u.vc(37),u.bc(38,"translate"),u.Pb(),u.Qb(39,"ion-range",12),u.Yb("ngModelChange",(function(t){return e.criteria.MinQuantity=t})),u.Lb(40,"ion-icon",13),u.Lb(41,"ion-icon",14),u.Pb(),u.Pb(),u.Qb(42,"ion-item"),u.Qb(43,"ion-label",15),u.vc(44),u.bc(45,"translate"),u.Pb(),u.Qb(46,"ion-range",16),u.Yb("ngModelChange",(function(t){return e.criteria.PriceInterval=t})),u.Lb(47,"ion-icon",17),u.Lb(48,"ion-icon",18),u.Pb(),u.Pb(),u.Pb(),u.Qb(49,"div",5),u.Qb(50,"h3"),u.vc(51),u.bc(52,"translate"),u.bc(53,"translate"),u.bc(54,"translate"),u.Pb(),u.Pb(),u.Qb(55,"ion-list"),u.Qb(56,"ion-item"),u.Qb(57,"ion-label"),u.vc(58),u.bc(59,"translate"),u.Pb(),u.Qb(60,"ion-select",8),u.Yb("ngModelChange",(function(t){return e.criteria.OrderBy=t})),u.uc(61,P,2,2,"ion-select-option",9),u.Pb(),u.Pb(),u.Pb(),u.Qb(62,"div",19),u.Qb(63,"ion-button",20),u.Yb("click",(function(){return e.search()})),u.vc(64),u.bc(65,"translate"),u.Pb(),u.Pb(),u.Pb()),2&t&&(u.zb(3),u.wc(u.cc(4,26,"advanced-search.advancedSearch")),u.zb(5),u.wc(u.cc(9,28,"signin.Return")),u.zb(6),u.wc(u.cc(15,30,"advanced-search.Criteresderecherche")),u.zb(5),u.wc(u.cc(20,32,"advanced-search.Votrerecherche")),u.zb(2),u.hc("placeholder",u.cc(22,34,"advanced-search.Motcle")),u.gc("ngModel",e.criteria.SearchText),u.zb(4),u.wc(u.cc(26,36,"advanced-search.Categories")),u.zb(2),u.gc("ngModel",e.criteria.MainCategory),u.zb(1),u.gc("ngForOf",e.MainCategoryList),u.zb(3),u.wc(u.cc(32,38,"advanced-search.SousCategories")),u.zb(2),u.gc("ngModel",e.criteria.SecondCategory),u.zb(1),u.gc("ngForOf",e.getSecondCategoryList()),u.zb(3),u.yc("",u.cc(38,40,"advanced-search.Minquantitedachat"),": ",e.criteria.MinQuantity,""),u.zb(2),u.gc("ngModel",e.criteria.MinQuantity),u.zb(5),u.zc("",u.cc(45,42,"advanced-search.Prix"),": ",e.criteria.PriceInterval.lower," - ",e.criteria.PriceInterval.upper," \u20ac"),u.zb(2),u.gc("ngModel",e.criteria.PriceInterval),u.zb(5),u.zc("",u.cc(52,44,"advanced-search.Prix"),", ",u.cc(53,46,"advanced-search.Nouveaute")," , ",u.cc(54,48,"advanced-search.Popularite")," "),u.zb(7),u.xc("",u.cc(59,50,"advanced-search.Trierpar")," "),u.zb(2),u.gc("ngModel",e.criteria.OrderBy),u.zb(1),u.gc("ngForOf",e.OrderByList),u.zb(3),u.xc("",u.cc(65,52,"advanced-search.Search")," "))},directives:[o.t,o.V,o.U,o.i,o.h,o.u,o.q,o.B,o.z,o.A,o.y,o.fb,n.k,n.n,o.J,o.eb,s.j,o.F,o.K],pipes:[d.c],styles:[""]}),t})();var m=i("Kj3r"),v=i("e8h1"),y=i("x7k0"),L=i("/NBf");function C(t,e){if(1&t){const t=u.Rb();u.Qb(0,"ion-buttons",2),u.Qb(1,"ion-button",3),u.Yb("click",(function(){return u.nc(t),u.ac().advancedSearchPage()})),u.Lb(2,"ion-icon",10),u.Pb(),u.Pb()}}function w(t,e){if(1&t&&(u.Qb(0,"div",23),u.vc(1),u.Pb()),2&t){const t=u.ac().$implicit,e=u.ac(2);u.zb(1),u.xc(" ",e.utils.formatProductPromotionInfo(t).discountPerCent,"% ")}}function I(t,e){1&t&&(u.Qb(0,"div",24),u.vc(1),u.bc(2,"translate"),u.Pb()),2&t&&(u.zb(1),u.xc(" ",u.cc(2,1,"home.New")," "))}function Q(t,e){1&t&&u.Lb(0,"img",25)}function M(t,e){if(1&t&&u.Lb(0,"ion-img",26),2&t){const t=u.ac().$implicit,e=u.ac(2);u.gc("src",e.host+t.DefaultPhotoPath)}}function z(t,e){if(1&t&&(u.Qb(0,"p",27),u.vc(1),u.Qb(2,"span",28),u.vc(3,"\u20ac"),u.Pb(),u.vc(4,"(HT) "),u.Pb()),2&t){const t=u.ac().$implicit;u.zb(1),u.xc(" ",t.PreviousPrice," "),u.zb(1),u.gc("hidden",t.Price==t.PreviousPrice)}}function S(t,e){if(1&t&&(u.Qb(0,"p",29),u.vc(1),u.Qb(2,"span",28),u.vc(3,"\u20ac"),u.Pb(),u.vc(4,"(HT) "),u.Pb()),2&t){const t=u.ac().$implicit;u.zb(1),u.xc("",t.Price," "),u.zb(1),u.gc("hidden",null==t.Price)}}function T(t,e){if(1&t){const t=u.Rb();u.Qb(0,"ion-item",12),u.Yb("click",(function(){u.nc(t);const i=e.$implicit;return u.ac(2).productDetail(i)})),u.Qb(1,"ion-avatar",13),u.uc(2,w,2,1,"div",14),u.uc(3,I,3,3,"div",15),u.uc(4,Q,1,0,"img",16),u.uc(5,M,1,1,"ion-img",17),u.Pb(),u.Qb(6,"ion-label"),u.uc(7,z,5,2,"p",18),u.uc(8,S,5,2,"p",19),u.Qb(9,"h2",20),u.vc(10),u.Pb(),u.Qb(11,"p"),u.vc(12),u.bc(13,"translate"),u.Pb(),u.Qb(14,"p"),u.vc(15),u.bc(16,"translate"),u.Pb(),u.Qb(17,"span",21),u.Yb("click",(function(i){u.nc(t);const s=e.$implicit;return u.ac(2).addInCart(i,s)})),u.Lb(18,"ion-icon",22),u.Pb(),u.Qb(19,"p"),u.vc(20),u.bc(21,"translate"),u.Pb(),u.Pb(),u.Pb()}if(2&t){const t=e.$implicit,i=u.ac(2);u.zb(2),u.gc("ngIf",i.logined&&null!=i.utils.formatProductPromotionInfo(t)),u.zb(1),u.gc("ngIf",t.IsNew),u.zb(1),u.gc("ngIf",null==t.DefaultPhotoPath),u.zb(1),u.gc("ngIf",null!=t.DefaultPhotoPath),u.zb(2),u.gc("ngIf",i.logined&&null!=i.utils.formatProductPromotionInfo(t)),u.zb(1),u.gc("ngIf",i.logined),u.zb(1),u.gc("id",t.ReferenceId),u.zb(1),u.wc(t.Label),u.zb(2),u.yc("",u.cc(13,14,"newproduct.QuantityEachBox")," : ",t.QuantityPerBox,""),u.zb(3),u.yc("",u.cc(16,16,"newproduct.QuantityMinimum")," : ",t.MinQuantity,""),u.zb(5),u.yc("",u.cc(21,18,"newproduct.Reference")," : ",t.Code,"")}}function x(t,e){if(1&t&&(u.Qb(0,"ion-list"),u.uc(1,T,22,20,"ion-item",11),u.Pb()),2&t){const t=u.ac();u.zb(1),u.gc("ngForOf",t.productList)}}function _(t,e){if(1&t&&(u.Qb(0,"div",45),u.vc(1),u.Pb()),2&t){const t=u.ac().$implicit,e=u.ac(2);u.zb(1),u.xc(" ",e.utils.formatProductPromotionInfo(t).discountPerCent,"% ")}}function k(t,e){1&t&&(u.Qb(0,"div",46),u.vc(1),u.bc(2,"translate"),u.Pb()),2&t&&(u.zb(1),u.xc(" ",u.cc(2,1,"home.New")," "))}function D(t,e){1&t&&u.Lb(0,"ion-img",47)}function B(t,e){if(1&t&&u.Lb(0,"img",48),2&t){const t=u.ac().$implicit,e=u.ac(2);u.gc("src",e.host+t.DefaultPhotoPath,u.pc)}}function E(t,e){if(1&t&&(u.Qb(0,"ion-card-subtitle"),u.vc(1),u.bc(2,"translate"),u.Pb()),2&t){const t=u.ac().$implicit;u.zb(1),u.yc("",u.cc(2,2,"cart.QuantityPerParcel")," : ",t.QuantityPerBox,"")}}function O(t,e){if(1&t&&(u.Qb(0,"ion-card-subtitle"),u.vc(1),u.bc(2,"translate"),u.Pb()),2&t){const t=u.ac().$implicit;u.zb(1),u.yc("",u.cc(2,2,"cart.QuantityPerParcel")," : ",t.QuantityPerParcel,"")}}function R(t,e){if(1&t&&(u.Qb(0,"ion-card-subtitle"),u.vc(1),u.bc(2,"translate"),u.Pb()),2&t){const t=u.ac().$implicit;u.zb(1),u.yc("",u.cc(2,2,"cart.EachBox")," : ",t.QuantityPerBox,"")}}function $(t,e){if(1&t&&(u.Qb(0,"p",49),u.vc(1),u.Qb(2,"span",28),u.vc(3,"\u20ac"),u.Pb(),u.vc(4,"(HT) "),u.Pb()),2&t){const t=u.ac().$implicit;u.zb(1),u.xc(" ",t.PreviousPrice," "),u.zb(1),u.gc("hidden",t.Price==t.PreviousPrice)}}function K(t,e){if(1&t&&(u.Qb(0,"p",50),u.vc(1),u.Qb(2,"span",28),u.vc(3,"\u20ac"),u.Pb(),u.vc(4,"(HT) "),u.Pb()),2&t){const t=u.ac().$implicit;u.zb(1),u.xc("",t.Price," "),u.zb(1),u.gc("hidden",null==t.Price)}}function F(t,e){if(1&t){const t=u.Rb();u.Qb(0,"ion-col",31),u.Yb("click",(function(){u.nc(t);const i=e.$implicit;return u.ac(2).productDetail(i)})),u.Qb(1,"ion-card",32),u.Qb(2,"div",33),u.uc(3,_,2,1,"div",34),u.uc(4,k,3,3,"div",35),u.Pb(),u.uc(5,D,1,0,"ion-img",36),u.uc(6,B,1,1,"img",37),u.Qb(7,"ion-button",38),u.Yb("click",(function(i){u.nc(t);const s=e.$implicit;return u.ac(2).addInCart(i,s)})),u.Lb(8,"ion-icon",39),u.vc(9),u.bc(10,"translate"),u.Pb(),u.Qb(11,"ion-card-header",40),u.Qb(12,"ion-card-title",41),u.vc(13),u.Pb(),u.Qb(14,"ion-card-subtitle"),u.vc(15),u.bc(16,"translate"),u.Pb(),u.uc(17,E,3,4,"ion-card-subtitle",5),u.uc(18,O,3,4,"ion-card-subtitle",5),u.uc(19,R,3,4,"ion-card-subtitle",5),u.Pb(),u.Qb(20,"ion-card-content",42),u.uc(21,$,5,2,"p",43),u.uc(22,K,5,2,"p",44),u.Pb(),u.Pb(),u.Pb()}if(2&t){const t=e.$implicit,i=u.ac(2);u.zb(3),u.gc("ngIf",i.logined&&null!=i.utils.formatProductPromotionInfo(t)),u.zb(1),u.gc("ngIf",t.IsNew),u.zb(1),u.gc("ngIf",null==t.DefaultPhotoPath),u.zb(1),u.gc("ngIf",null!=t.DefaultPhotoPath),u.zb(3),u.xc("",u.cc(10,13,"Add")," "),u.zb(4),u.wc(t.Label),u.zb(2),u.yc("",u.cc(16,15,"newproduct.Reference")," : ",t.Code,""),u.zb(2),u.gc("ngIf",null==t.QuantityPerParcel),u.zb(1),u.gc("ngIf",null!=t.QuantityPerParcel),u.zb(1),u.gc("ngIf",null!=t.QuantityPerParcel),u.zb(2),u.gc("ngIf",i.logined&&null!=i.utils.formatProductPromotionInfo(t)),u.zb(1),u.gc("ngIf",i.logined)}}function A(t,e){if(1&t&&(u.Qb(0,"ion-row"),u.uc(1,F,23,17,"ion-col",30),u.Pb()),2&t){const t=u.ac();u.zb(1),u.gc("ngForOf",t.productList)}}function N(t,e){if(1&t&&u.Lb(0,"ion-searchbar",53),2&t){const t=u.ac(2);u.gc("formControl",t.searchControl)}}function Y(t,e){if(1&t&&(u.Qb(0,"div",45),u.vc(1),u.Pb()),2&t){const t=u.ac().$implicit,e=u.ac(2);u.zb(1),u.xc(" ",e.utils.formatProductPromotionInfo(t).discountPerCent,"% ")}}function j(t,e){1&t&&(u.Qb(0,"div",46),u.vc(1),u.bc(2,"translate"),u.Pb()),2&t&&(u.zb(1),u.xc(" ",u.cc(2,1,"home.New")," "))}function G(t,e){1&t&&u.Lb(0,"ion-img",58)}function q(t,e){if(1&t&&u.Lb(0,"img",59),2&t){const t=u.ac().$implicit,e=u.ac(2);u.gc("src",e.host+t.DefaultPhotoPath,u.pc)}}function V(t,e){if(1&t){const t=u.Rb();u.Qb(0,"ion-col",54),u.Yb("click",(function(){u.nc(t);const i=e.$implicit;return u.ac(2).productDetail(i)})),u.Qb(1,"div",55),u.Qb(2,"div",33),u.uc(3,Y,2,1,"div",34),u.uc(4,j,3,3,"div",35),u.Pb(),u.uc(5,G,1,0,"ion-img",56),u.uc(6,q,1,1,"img",57),u.Pb(),u.Pb()}if(2&t){const t=e.$implicit,i=u.ac(2);u.zb(3),u.gc("ngIf",i.logined&&null!=i.utils.formatProductPromotionInfo(t)),u.zb(1),u.gc("ngIf",t.IsNew),u.zb(1),u.gc("ngIf",null==t.DefaultPhotoPath),u.zb(1),u.gc("ngIf",null!=t.DefaultPhotoPath)}}function H(t,e){if(1&t&&(u.Qb(0,"div"),u.uc(1,N,1,1,"ion-searchbar",51),u.Qb(2,"ion-row"),u.uc(3,V,7,4,"ion-col",52),u.Pb(),u.Pb()),2&t){const t=u.ac();u.zb(1),u.gc("ngIf","ViewAllProduct"==t.PageType),u.zb(2),u.gc("ngForOf",t.productList)}}function U(t,e){1&t&&(u.Qb(0,"div",60),u.Lb(1,"ion-spinner"),u.Qb(2,"p",61),u.vc(3),u.bc(4,"translate"),u.Pb(),u.Pb()),2&t&&(u.zb(3),u.xc("",u.cc(4,1,"Loading"),"..."))}function W(t,e){1&t&&(u.Qb(0,"p",62),u.vc(1),u.bc(2,"translate"),u.Pb()),2&t&&(u.zb(1),u.xc(" ",u.cc(2,1,"NoDataToDisplay"),""))}const Z=[{path:"",component:(()=>{class t extends c.a{constructor(t,e,i,s,o,r,a,c,u,d){super(),this.router=t,this.navCtrl=e,this.network=i,this.rest=s,this.toastCtrl=o,this.storage=r,this.utils=a,this.modalCtrl=c,this.translate=u,this.cartService=d,this.loading=!0,this.SecondReferenceId=0,this.Title="",this.productList=[],this.step=10,this.counter=0,this.listLayoutMode=["column","imangeOnly","list"],this.layoutMode="column",this.advancedSearchCriteria={SearchText:null,MainCategory:null,SecondCategory:null,PriceInterval:{lower:0,upper:200},MinQuantity:200,OrderBy:null},this.host=l.a.SERVER_API_URL,this.logined=!1,this.searchControl=new n.c}ngOnInit(){this.checkLogined(),this.PageType=this.router.snapshot.queryParams.PageType,this.SecondReferenceId=parseInt(this.router.snapshot.queryParams.ReferenceId),this.Title=this.router.snapshot.queryParams.Title;var t=localStorage.getItem("productListLayoutType");null!=this.listLayoutMode.find(e=>e==t)&&(this.layoutMode=t),"ViewAllProduct"==this.PageType&&(this.advancedSearchCriteria.OrderBy="PublishDate_Recent",this.layoutMode="imangeOnly"),"imangeOnly"==this.layoutMode?this.imageOnlyTreatement():this.loadProductList()}toggleLayout(){var t=this.listLayoutMode.findIndex(t=>t==this.layoutMode);this.layoutMode=t+1>=this.listLayoutMode.length?this.listLayoutMode[0]:this.listLayoutMode[t+1],this.imageOnlyTreatement(),localStorage.setItem("productListLayoutType",this.layoutMode)}imageOnlyTreatement(){"imangeOnly"==this.layoutMode&&(this.counter=0,this.step=20,this.loadProductList(),"ViewAllProduct"==this.PageType&&this.searchControl.valueChanges.pipe(Object(m.a)(500)).subscribe(t=>{this.counter=0,this.advancedSearchCriteria.SearchText=t,this.loadProductList()}))}ionViewWillEnter(){}productDetail(t){this.navCtrl.navigateForward("ProductDetailPage",{queryParams:{productId:t.ProductId}})}checkLogined(){return Object(a.a)(this,void 0,void 0,(function*(){this.logined=yield this.utils.checkIsLogined()}))}loadProductList(){if(null!=this.PageType)switch(this.PageType){case"BySecondCategory":this.rest.GetProductListBySecondCategory(this.SecondReferenceId,this.counter,this.step).subscribe(t=>{t.Success&&null!=t.Data?this.productList=t.Data.ProductListData:super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{this.loading=!1,super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},()=>this.loading=!1);break;case"NewProduct":this.rest.GetProductListByPublishDate(this.counter,this.step).subscribe(t=>{t.Success&&null!=t.Data?this.productList=t.Data.ProductListData:super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1},()=>this.loading=!1);break;case"PromoProduct":this.rest.GetPromotionProduct(this.counter,this.step).subscribe(t=>{null!=t.ProductList?this.productList=t.ProductList:super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1},()=>this.loading=!1);break;case"BestSalesProduct":this.rest.GetProductListBySalesPerformance(this.counter,this.step).subscribe(t=>{t.Success&&null!=t.Data?this.productList=t.Data.ProductListData:super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},()=>this.loading=!1);break;case"FavoriteList":this.rest.GetFavoriteListByUserId({UserId:localStorage.getItem("userId"),Lang:this.translate.defaultLang,Begin:this.counter,Step:this.step}).subscribe(t=>{null!=t&&null!=t.TotalCount&&null!=t.List?this.productList=t.List:super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1});break;case"SimpleProductSearch":this.rest.SimpleProductSearch({SearchText:this.router.snapshot.queryParams.SearchText,Lang:this.translate.defaultLang,Begin:this.counter,Step:this.step}).subscribe(t=>{null!=t&&null!=t.TotalCount&&null!=t.List?this.productList=t.List:super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1});break;case"LowerPriceProduct":this.rest.GetProductByPrice({Lang:this.translate.defaultLang,Step:this.step,Begin:this.counter}).subscribe(t=>{null!=t&&null!=t.TotalCount&&null!=t.List?this.productList=t.List:super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1});break;case"ViewAllProduct":case"AdvancedProductSearch":if(this.loading=!0,null!=this.advancedSearchCriteria){var t=this.advancedSearchCriteria;t.Begin=this.counter,t.Step=this.step,t.Lang=this.translate.defaultLang,t.PriceIntervalLower=this.advancedSearchCriteria.PriceInterval.lower,t.PriceIntervalUpper=this.advancedSearchCriteria.PriceInterval.upper,this.rest.AdvancedProductSearchClient(t).subscribe(t=>{null!=t&&null!=t.TotalCount&&null!=t.List?this.productList=t.List:super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error")),this.loading=!1})}else this.loading=!1}else super.showToast(this.toastCtrl,this.translate.instant("Msg_Offline"))}doInfinite(t){if("none"!=this.network.type)switch(this.counter=this.counter+1,this.PageType){case"BySecondCategory":this.rest.GetProductListBySecondCategory(this.SecondReferenceId,this.counter,this.step).subscribe(e=>{e.Success?e.Data.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productList=this.productList.concat(null!=e.Data.ProductListData?e.Data.ProductListData:[]),t.target.complete()):super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))});break;case"PromoProduct":this.rest.GetPromotionProduct(this.counter,this.step).subscribe(e=>{null!=e.ProductList?e.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productList=this.productList.concat(null!=e.ProductList?e.ProductList:[]),t.target.complete()):super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))});break;case"NewProduct":this.rest.GetProductListByPublishDate(this.counter,this.step).subscribe(e=>{e.Success?e.Data.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productList=this.productList.concat(null!=e.Data.ProductListData?e.Data.ProductListData:[]),t.target.complete()):super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))});break;case"BestSalesProduct":this.rest.GetProductListBySalesPerformance(this.counter,this.step).subscribe(e=>{e.Success?e.Data.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productList=this.productList.concat(null!=e.Data.ProductListData?e.Data.ProductListData:[]),t.target.complete()):super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))});break;case"FavoriteList":this.rest.GetFavoriteListByUserId({UserId:localStorage.getItem("userId"),Lang:this.translate.defaultLang,Begin:this.counter,Step:this.step}).subscribe(e=>{null!=e&&null!=e.TotalCount&&null!=e.List?e.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productList=this.productList.concat(null!=e.List?e.List:[]),t.target.complete()):super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))});break;case"LowerPriceProduct":this.rest.GetProductByPrice({Lang:this.translate.defaultLang,Step:this.step,Begin:this.counter}).subscribe(e=>{null!=e&&null!=e.TotalCount&&null!=e.List?e.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productList=this.productList.concat(null!=e.List?e.List:[]),t.target.complete()):super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))});break;case"SimpleProductSearch":this.rest.SimpleProductSearch({SearchText:this.router.snapshot.queryParams.SearchText,Lang:this.translate.defaultLang,Begin:this.counter,Step:this.step}).subscribe(e=>{null!=e&&null!=e.TotalCount&&null!=e.List?e.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productList=this.productList.concat(null!=e.List?e.List:[]),t.target.complete()):super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))});break;case"ViewAllProduct":case"AdvancedProductSearch":if(null!=this.advancedSearchCriteria){var e=this.advancedSearchCriteria;e.Begin=this.counter,e.Step=this.step,e.Lang=this.translate.defaultLang,this.rest.AdvancedProductSearchClient(e).subscribe(e=>{null!=e&&null!=e.TotalCount&&null!=e.List?e.TotalCount<=this.step*this.counter?(t.target.complete(),t.target.disabled=!0):(this.productList=this.productList.concat(null!=e.List?e.List:[]),t.target.complete()):super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))},t=>{super.showToast(this.toastCtrl,this.translate.instant("Msg_Error"))})}}else super.showToast(this.toastCtrl,this.translate.instant("Msg_Offline"))}advancedSearchPage(){return Object(a.a)(this,void 0,void 0,(function*(){let t=yield this.modalCtrl.create({component:f,componentProps:{criteriaPassed:this.advancedSearchCriteria}});yield t.present();const{data:e}=yield t.onWillDismiss();null!=e&&(this.advancedSearchCriteria=e,this.loadProductList())}))}addInCart(t,e){return Object(a.a)(this,void 0,void 0,(function*(){t.stopPropagation(),this.cartService.addInCart(e)}))}}return t.\u0275fac=function(e){return new(e||t)(u.Kb(r.a),u.Kb(o.ab),u.Kb(b.a),u.Kb(h.a),u.Kb(o.gb),u.Kb(v.b),u.Kb(y.a),u.Kb(o.Z),u.Kb(d.d),u.Kb(L.a))},t.\u0275cmp=u.Eb({type:t,selectors:[["app-newproduct"]],features:[u.wb],decls:18,vars:7,consts:[["slot","start"],["slot","end",4,"ngIf"],["slot","end"],["icon-only","","small","",3,"click"],["name","menu"],[4,"ngIf"],["class","ion-text-center spinner ion-margin-top",4,"ngIf"],["class","ion-text-center",4,"ngIf"],[3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading"],["name","search",1,"searchButtonColor"],["button","","detail","false",3,"click",4,"ngFor","ngForOf"],["button","","detail","false",3,"click"],["slot","start",2,"width","60px","height","60px"],["class","product-card__badge promotion","style","position: absolute;",4,"ngIf"],["class","product-card__badge_New promotion","style","position: absolute; top: 10px; left: 10px;",4,"ngIf"],["class","productImg","src","assets/imgs/not-found.png",4,"ngIf"],["class","productImg",3,"src",4,"ngIf"],["style","text-decoration:line-through;float: right; margin-top: 25px;",4,"ngIf"],["style","font-weight: bold;font-size: 16px;float: right; margin-top: 25px;",4,"ngIf"],[1,"productLabelClass",3,"id"],["slot","icon-only","icon-only","","float-right","",1,"ion-float-right",2,"font-size","1em","padding","1px 0px",3,"click"],["name","cart","slot","icon-only"],[1,"product-card__badge","promotion",2,"position","absolute"],[1,"product-card__badge_New","promotion",2,"position","absolute","top","10px","left","10px"],["src","assets/imgs/not-found.png",1,"productImg"],[1,"productImg",3,"src"],[2,"text-decoration","line-through","float","right","margin-top","25px"],[3,"hidden"],[2,"font-weight","bold","font-size","16px","float","right","margin-top","25px"],["size","6",3,"click",4,"ngFor","ngForOf"],["size","6",3,"click"],["button","true",1,"ion-no-margin","productCard"],[1,"product-card__badges-list"],["class","product-card__badge promotion",4,"ngIf"],["class","product-card__badge_New promotion",4,"ngIf"],["src","assets/imgs/not-found.png","style","height: 20vh;",4,"ngIf"],["style","height: 20vh;",3,"src",4,"ngIf"],["expand","full","size","small",3,"click"],["slot","start","name","cart"],[1,"ion-padding",2,"padding-bottom","0px"],[2,"font-size","16px"],[1,"productCardContent",2,"padding-bottom","5px"],["style","text-decoration:line-through;",4,"ngIf"],["style","font-weight: bold;font-size: 16px;",4,"ngIf"],[1,"product-card__badge","promotion"],[1,"product-card__badge_New","promotion"],["src","assets/imgs/not-found.png",2,"height","20vh"],[2,"height","20vh",3,"src"],[2,"text-decoration","line-through"],[2,"font-weight","bold","font-size","16px"],[3,"formControl",4,"ngIf"],["size","4","style","padding: 0 2px;",3,"click",4,"ngFor","ngForOf"],[3,"formControl"],["size","4",2,"padding","0 2px",3,"click"],[2,"text-align","center"],["src","assets/imgs/not-found.png","style","height: 16vh;",4,"ngIf"],["style","height: 16vh;",3,"src",4,"ngIf"],["src","assets/imgs/not-found.png",2,"height","16vh"],[2,"height","16vh",3,"src"],[1,"ion-text-center","spinner","ion-margin-top"],["text-center","","font-size-small","",1,"ion-text-center"],[1,"ion-text-center"]],template:function(t,e){1&t&&(u.Qb(0,"ion-header"),u.Qb(1,"ion-toolbar"),u.Qb(2,"ion-title"),u.vc(3),u.Pb(),u.Qb(4,"ion-buttons",0),u.Lb(5,"ion-back-button"),u.Pb(),u.uc(6,C,3,0,"ion-buttons",1),u.Qb(7,"ion-buttons",2),u.Qb(8,"ion-button",3),u.Yb("click",(function(){return e.toggleLayout()})),u.Lb(9,"ion-icon",4),u.Pb(),u.Pb(),u.Pb(),u.Pb(),u.Qb(10,"ion-content"),u.uc(11,x,2,1,"ion-list",5),u.uc(12,A,2,1,"ion-row",5),u.uc(13,H,4,2,"div",5),u.uc(14,U,5,3,"div",6),u.uc(15,W,3,3,"p",7),u.Qb(16,"ion-infinite-scroll",8),u.Yb("ionInfinite",(function(t){return e.doInfinite(t)})),u.Lb(17,"ion-infinite-scroll-content",9),u.Pb(),u.Pb()),2&t&&(u.zb(3),u.wc(e.Title),u.zb(3),u.gc("ngIf","AdvancedProductSearch"==e.PageType),u.zb(5),u.gc("ngIf","list"==e.layoutMode),u.zb(1),u.gc("ngIf","column"==e.layoutMode),u.zb(1),u.gc("ngIf","imangeOnly"==e.layoutMode),u.zb(1),u.gc("ngIf",e.loading),u.zb(1),u.gc("ngIf",!e.loading&&(null==e.productList||e.productList.length<=0)))},directives:[o.t,o.V,o.U,o.i,o.e,o.f,s.k,o.h,o.u,o.q,o.w,o.x,o.B,s.j,o.z,o.d,o.A,o.v,o.H,o.p,o.j,o.l,o.n,o.m,o.k,o.I,o.fb,n.k,n.d,o.O],pipes:[d.c],styles:[".productImg[_ngcontent-%COMP%]{border-radius:0!important;height:60px!important;width:60px!important}.productLabelClass[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.productCard[_ngcontent-%COMP%]{max-height:100%;min-height:100%;border:1px solid hsla(0,0%,69%,.41)}"]}),t})()}];let J=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(Z)],r.j]}),t})();const X=[{path:"",component:f}];let tt=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(X)],r.j]}),t})(),et=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},imports:[[s.b,n.g,o.W,tt,d.b]]}),t})(),it=(()=>{class t{}return t.\u0275mod=u.Ib({type:t}),t.\u0275inj=u.Hb({factory:function(e){return new(e||t)},imports:[[s.b,n.g,n.q,o.W,J,d.b,et]]}),t})()}}]);