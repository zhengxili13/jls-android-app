(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{KX34:function(e,r,t){"use strict";t.r(r),t.d(r,"RegistrePageModule",(function(){return A}));var s=t("ofXK"),a=t("3Pt+"),o=t("TEn/"),i=t("tyNb"),n=t("mrSG"),c=t("n3qt"),b=t("/uUt"),l=t("Kj3r"),m=t("eIep"),d=t("lJxs"),u=t("SxV6"),p=t("fXoL"),h=t("sYmb"),f=t("MDGB"),g=t("kwrG"),P=t("xHqg"),v=t("kmnG"),C=t("qFsG"),x=t("bTqV");function w(e,r){1&e&&(p.vc(0),p.bc(1,"translate")),2&e&&p.wc(p.cc(1,1,"registre.Compte"))}function F(e,r){1&e&&(p.Qb(0,"mat-error"),p.vc(1),p.bc(2,"translate"),p.Pb()),2&e&&(p.zb(1),p.xc(" ",p.cc(2,1,"registre.Error_UserAlreadyExists")," "))}function Q(e,r){1&e&&(p.Qb(0,"mat-error"),p.vc(1),p.bc(2,"translate"),p.Pb()),2&e&&(p.zb(1),p.xc(" ",p.cc(2,1,"registre.Warming_PleaseEntreCorrectEmail")," "))}function I(e,r){1&e&&(p.Qb(0,"mat-error"),p.vc(1),p.bc(2,"translate"),p.Pb()),2&e&&(p.zb(1),p.xc(" ",p.cc(2,1,"registre.Warming_AtLeast8Characters")," "))}function z(e,r){1&e&&(p.Qb(0,"div",27),p.vc(1),p.bc(2,"translate"),p.Pb()),2&e&&(p.zb(1),p.xc(" ",p.cc(2,1,"registre.Warming_PasswordsMustMatch")," "))}function y(e,r){1&e&&(p.vc(0),p.bc(1,"translate")),2&e&&p.wc(p.cc(1,1,"registre.Entreprise"))}function N(e,r){1&e&&(p.vc(0),p.bc(1,"translate")),2&e&&p.wc(p.cc(1,1,"registre.Address"))}const q=[{path:"",component:(()=>{class e extends c.a{constructor(e,r,t,s,o,i,n){super(),this.navCtrl=e,this.translateService=r,this.formBuilder=t,this.rest=s,this.network=o,this.toastCtrl=i,this.loadingCtrl=n,this.basicInfoForm=this.formBuilder.group({email:["",a.s.compose([a.s.required,a.s.email]),this.userNameUniqueValidator()],password:["",a.s.compose([a.s.required,a.s.minLength(8)])],confirmPassword:["",a.s.required]}),this.entrepriseForm=this.formBuilder.group({entrepriseName:["",a.s.required],siret:["",a.s.required],phoneNumber:["",a.s.required]}),this.addressForm=this.formBuilder.group({Id:["0"],FirstLineAddress:["",a.s.required],SecondLineAddress:[""],City:["",a.s.required],Country:["",a.s.required],ZipCode:["",a.s.required],ContactTelephone:["",a.s.required],ContactFax:[""]})}ngOnInit(){}confirmPassword(){return this.basicInfoForm.get("password").value!=this.basicInfoForm.get("confirmPassword").value}userNameUniqueValidator(){return e=>e.valueChanges.pipe(Object(b.a)(),Object(l.a)(1e3),Object(m.a)(()=>this.rest.CheckUserIsAlreadyExistAsync(e.value)),Object(d.a)(e=>1==e?{duplicate:!0}:null),Object(u.a)())}isAlreadyExists(){return this.basicInfoForm.get("email").hasError("duplicate")}registre(){const e=Object.create(null,{showToast:{get:()=>super.showToast}});return Object(n.a)(this,void 0,void 0,(function*(){if(this.basicInfoForm.valid&&this.entrepriseForm.valid&&this.addressForm.valid&&!this.confirmPassword()){this.addressForm.value.ContactTelephone=this.addressForm.value.ContactTelephone,this.addressForm.value.ContactFax=this.addressForm.value.ContactFax;var r={Email:this.basicInfoForm.value.email,Password:btoa(this.basicInfoForm.value.password),Siret:this.entrepriseForm.value.siret,EntrepriseName:this.entrepriseForm.value.entrepriseName,PhoneNumber:this.entrepriseForm.value.phoneNumber,FacturationAdress:this.addressForm.value,ShipmentAdress:this.addressForm.value};if("none"!=this.network.type){var t=yield this.showLoading(this.loadingCtrl,this.translateService.instant("Loading"));this.rest.Registre(r).subscribe(r=>Object(n.a)(this,void 0,void 0,(function*(){r.Success?this.navCtrl.navigateRoot("RegistreSuccedPage",{queryParams:{email:r.DataExt,page:"RegistrePage"}}):e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),t.dismiss()})),r=>{e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Error")),t.dismiss()})}else e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_Offline"))}else e.showToast.call(this,this.toastCtrl,this.translateService.instant("Msg_SomeErrorInForm"))}))}get basicInfoFormCtrl(){return this.basicInfoForm.controls}get entrepriseFormCtrl(){return this.entrepriseForm.controls}get addressFormCtrl(){return this.addressForm.controls}}return e.\u0275fac=function(r){return new(r||e)(p.Kb(o.ab),p.Kb(h.d),p.Kb(a.b),p.Kb(f.a),p.Kb(g.a),p.Kb(o.gb),p.Kb(o.Y))},e.\u0275cmp=p.Eb({type:e,selectors:[["app-registre"]],features:[p.wb],decls:90,vars:70,consts:[["slot","start"],["defaultHref","/tabs/tabMyAccount"],[2,"background-color","#f4f4f4!important"],["linear",""],["stepper","matHorizontalStepper"],[3,"stepControl"],[3,"formGroup"],["matStepLabel",""],["matInput","","formControlName","email","required","",3,"placeholder"],[4,"ngIf"],["matInput","","formControlName","password","required","","type","password",3,"placeholder"],["matInput","","formControlName","confirmPassword","required","","type","password",3,"placeholder"],["style","color: red; margin-bottom: 7px;",4,"ngIf"],["mat-raised-button","","color","primary","matStepperNext",""],["matInput","","formControlName","entrepriseName","required","",3,"placeholder"],["matInput","","formControlName","siret","required","",3,"placeholder"],["matInput","","required","","type","tel","matInput","","placeholder","EX: +33 xx xx xx xx xx","formControlName","phoneNumber"],["mat-raised-button","","color","warn","matStepperPrevious",""],["matInput","","formControlName","FirstLineAddress","required","",3,"placeholder"],["matInput","","formControlName","SecondLineAddress",3,"placeholder"],["col-6",""],["matInput","","formControlName","ZipCode","required","",3,"placeholder"],["matInput","","formControlName","City","required","",3,"placeholder"],["matInput","","formControlName","Country",3,"placeholder"],["matInput","","required","","type","tel","matInput","","placeholder","EX: +33 xx xx xx xx xx","formControlName","ContactTelephone"],["matInput","","type","tel","matInput","","placeholder","EX: +33 xx xx xx xx xx","formControlName","ContactFax"],["mat-raised-button","","color","primary",3,"click"],[2,"color","red","margin-bottom","7px"]],template:function(e,r){1&e&&(p.Qb(0,"ion-header"),p.Qb(1,"ion-toolbar"),p.Qb(2,"ion-buttons",0),p.Lb(3,"ion-back-button",1),p.Pb(),p.Qb(4,"ion-title"),p.vc(5),p.bc(6,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Qb(7,"ion-content",2),p.Qb(8,"mat-horizontal-stepper",3,4),p.Qb(10,"mat-step",5),p.Qb(11,"form",6),p.uc(12,w,2,3,"ng-template",7),p.Qb(13,"mat-form-field"),p.Lb(14,"input",8),p.bc(15,"translate"),p.uc(16,F,3,3,"mat-error",9),p.uc(17,Q,3,3,"mat-error",9),p.Pb(),p.Qb(18,"mat-form-field"),p.Lb(19,"input",10),p.bc(20,"translate"),p.uc(21,I,3,3,"mat-error",9),p.Pb(),p.Qb(22,"mat-form-field"),p.Lb(23,"input",11),p.bc(24,"translate"),p.Pb(),p.uc(25,z,3,3,"div",12),p.Qb(26,"div"),p.Qb(27,"button",13),p.vc(28),p.bc(29,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(30,"mat-step",5),p.Qb(31,"form",6),p.uc(32,y,2,3,"ng-template",7),p.Qb(33,"mat-form-field"),p.Lb(34,"input",14),p.bc(35,"translate"),p.Pb(),p.Qb(36,"mat-form-field"),p.Lb(37,"input",15),p.bc(38,"translate"),p.Pb(),p.Qb(39,"mat-form-field"),p.Qb(40,"mat-label"),p.vc(41),p.bc(42,"translate"),p.Pb(),p.Lb(43,"input",16),p.Pb(),p.Qb(44,"div"),p.Qb(45,"button",17),p.vc(46),p.bc(47,"translate"),p.Pb(),p.Qb(48,"button",13),p.vc(49),p.bc(50,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Qb(51,"mat-step",5),p.Qb(52,"form",6),p.uc(53,N,2,3,"ng-template",7),p.Qb(54,"mat-form-field"),p.Lb(55,"input",18),p.bc(56,"translate"),p.Pb(),p.Qb(57,"mat-form-field"),p.Lb(58,"input",19),p.bc(59,"translate"),p.Pb(),p.Qb(60,"ion-row"),p.Qb(61,"ion-col",20),p.Qb(62,"mat-form-field"),p.Lb(63,"input",21),p.bc(64,"translate"),p.Pb(),p.Pb(),p.Qb(65,"ion-col",20),p.Qb(66,"mat-form-field"),p.Lb(67,"input",22),p.bc(68,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Qb(69,"mat-form-field"),p.Lb(70,"input",23),p.bc(71,"translate"),p.Pb(),p.Qb(72,"mat-form-field"),p.Qb(73,"mat-label"),p.vc(74),p.bc(75,"translate"),p.bc(76,"translate"),p.Pb(),p.Lb(77,"input",24),p.Pb(),p.Qb(78,"mat-form-field"),p.Qb(79,"mat-label"),p.vc(80),p.bc(81,"translate"),p.Pb(),p.Lb(82,"input",25),p.Pb(),p.Qb(83,"div"),p.Qb(84,"button",17),p.vc(85),p.bc(86,"translate"),p.Pb(),p.Qb(87,"button",26),p.Yb("click",(function(){return r.registre()})),p.vc(88),p.bc(89,"translate"),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb(),p.Pb()),2&e&&(p.zb(5),p.wc(p.cc(6,30,"registre.Title")),p.zb(5),p.gc("stepControl",r.basicInfoForm),p.zb(1),p.gc("formGroup",r.basicInfoForm),p.zb(3),p.hc("placeholder",p.cc(15,32,"registre.Email")),p.zb(2),p.gc("ngIf",r.isAlreadyExists()),p.zb(1),p.gc("ngIf",r.basicInfoFormCtrl.email.errors&&!r.isAlreadyExists()),p.zb(2),p.hc("placeholder",p.cc(20,34,"registre.Password")),p.zb(2),p.gc("ngIf",r.basicInfoFormCtrl.password.errors),p.zb(2),p.hc("placeholder",p.cc(24,36,"registre.Password")),p.zb(2),p.gc("ngIf",r.confirmPassword()),p.zb(3),p.wc(p.cc(29,38,"registre.Next")),p.zb(2),p.gc("stepControl",r.entrepriseForm),p.zb(1),p.gc("formGroup",r.entrepriseForm),p.zb(3),p.hc("placeholder",p.cc(35,40,"registre.CompanyName")),p.zb(3),p.hc("placeholder",p.cc(38,42,"registre.Siret")),p.zb(4),p.wc(p.cc(42,44,"registre.PhoneNumber1")),p.zb(5),p.wc(p.cc(47,46,"registre.Back")),p.zb(3),p.wc(p.cc(50,48,"registre.Next")),p.zb(2),p.gc("stepControl",r.addressForm),p.zb(1),p.gc("formGroup",r.addressForm),p.zb(3),p.hc("placeholder",p.cc(56,50,"registre.AddressLine1")),p.zb(3),p.hc("placeholder",p.cc(59,52,"registre.AddressLine2")),p.zb(5),p.hc("placeholder",p.cc(64,54,"registre.ZipCode")),p.zb(4),p.hc("placeholder",p.cc(68,56,"registre.City")),p.zb(3),p.hc("placeholder",p.cc(71,58,"registre.Country")),p.zb(4),p.yc("",p.cc(75,60,"registre.PhoneNumber")," (",p.cc(76,62,"registre.CanBeSame"),")"),p.zb(6),p.wc(p.cc(81,64,"registre.Fax")),p.zb(5),p.wc(p.cc(86,66,"registre.Back")),p.zb(3),p.wc(p.cc(89,68,"registre.Registre")))},directives:[o.t,o.V,o.i,o.e,o.f,o.U,o.q,P.a,P.b,a.t,a.l,a.f,P.c,v.c,C.a,a.a,a.k,a.e,a.r,s.k,x.a,P.e,v.f,P.f,o.H,o.p,v.b],pipes:[h.c],styles:[".requiredLabel[_ngcontent-%COMP%]{color:#f53d3d}.mat-form-field[_ngcontent-%COMP%]{display:inline}"]}),e})()}];let L=(()=>{class e{}return e.\u0275mod=p.Ib({type:e}),e.\u0275inj=p.Hb({factory:function(r){return new(r||e)},imports:[[i.j.forChild(q)],i.j]}),e})();var E=t("d3UM"),S=t("NFeN");let A=(()=>{class e{}return e.\u0275mod=p.Ib({type:e}),e.\u0275inj=p.Hb({factory:function(r){return new(r||e)},imports:[[s.b,a.g,o.W,L,v.e,C.b,P.d,x.b,S.b,h.b,E.a,a.g,a.q]]}),e})()}}]);